This section outlines the different categories of tests within the suite 
that can be used to evaluate a CAF compiler
implementation. The primary gaol is to determine the extent to which it supports the
coaray-features of the Fortran 2008 standard in accordance with
ISO/IEC 1539-1:2010 (E)\cite{ftn2008}.


In this report, ROOT = <parent\_directory of the validation suite> and \$VALIDATION\_PATH=\$ROOT/validation/

There are three main categories of tests in the test suite. Each category is located in a different subdirectory within \$ROOT, and all the tests within the same category can be executed using the makefile. 

\subsubsection{Feature Tests}

These tests can be found under \$ROOT/feature\_tests. The tests under this category verify the support and correctness of the implementations of the basic constructs/semantics of CAF. The tests concentrate on the verification of the correctness of contiguous and strided remote read/write operations, the coarray syntax, the use of strided co-subscript notation, coarrays of different data types and
image-query intrinsics.


\subsubsection{Confidence Tests}

These tests can be found under \$ROOT/confidence\_tests. All tests in this
category verify CAF constructs that aid in maintaining consistency and synchrnization among images. The tests intentional compute intensive loops and forced CPU - idling (using calls to the sleep() intrinsic) for simulating delays in progress of certain images.
This enforces an increase in the likelihood of inconsistent states (and races) in case of incorrect implementations of the constructs being tested.

Due to the nondetermistic nature of unsynchronized images, configuration parameters(as defined under \$ROOT/config/CONFIG*) can be modified to determine the level of confidence with which a test passes a given test case. This test-category uses \emph{cross}-tests to evaluate the confidence of the test-reports. Such \emph{cross}- tests include the exact same code like the
original version but with certain statements deleted/replaced to identify the change in behavior of the tests. 


{\small 
\emph{Note on code design:} Most of the time,the modifications to the original code are in the form of the absence of the CAF statements which are being tested in that test case. In order to reduce redundant code, we chose to include the \emph{cross}-test version and the original version all in one file, using conditional `\#ifdef's and macros (e.g. CROSS\_) .

\emph{Detecting/Reporting of errors}

\begin{itemize}
\item Every test includes a module called 'crosstest'.
\item The module 'crosstest' (defined in file testmofule.f90)
includes the declaration of an integer scalar coarray called
'cross\_err' which is modified by image with rank 1 on detecting
an error. It also contains two subroutines - calc\_ori and calc.
The former returns the test result when the specific construct
is being tested. The latter is called by the cross-test version
and returns the confidence with which the original test passed.
\end{itemize}
}


\subsubsection{Fault Tests}

These tests can be found under \$ROOT/fault\_tests.
These test the correctness of the implementation of specifiers
used for handling normal and error termination. These tests include testing the support of statevariables that flag the execution state of other images. Here's an
excerpt describing the 2 states of image execution-termination [from Page 23, sec. 13 of ``ISO/IEC JTC1/SC22/WG5 N1824 ''\cite{Numrich:2005:CNF}]:

{\small `` ... It seems natural to allow all images to continue executing until they have all executed a stop or end program
statement, provided
  none of them encounters an error condition that may be
expected to terminate its execution. This is called normal
termination.
  On the other hand, if such an error condition occurs on one
image, the computation is flawed and it is desirable to stop
  the other images as soon as is practicable. This is called
error termination.

Normal termination occurs in three steps: initiation,
synchronization, and completion. An image
  initiates normal termination if it executes a stop or end
program statement. All images synchronize execution at the
  second step so that no image starts the completion step until
all images have finished the initiation step. The
  synchronization step allows its data to remain accessible to
the other images until they all reach the synchronization step.
  Normal termination may also be initiated during execution of a
procedure defined by a C companion processor[a.k.a. C compiler]

An image initiates error termination if it executes a
statement that
  would cause the termination of a single-image program but is
not a stop or end program statement. This causes all other
  images that have not already initiated error termination to
initiate error termination. Within the performance limits of
  the processor.s ability to send signals to other images, this
propagation of error termination should be immediate. The
  exact details are intentionally left processor dependent.... ''
}

\subsubsection{Specific Tests}
If the user wants to evaluate a CAF implementation in terms of
the support to specific types of tests, the names of the tests
can be specified in the file \emph{``test\_file''} in the directory -\$ROOT/few\_tests.

